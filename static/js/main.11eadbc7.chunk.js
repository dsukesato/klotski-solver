(this["webpackJsonppuzzle-resolver"]=this["webpackJsonppuzzle-resolver"]||[]).push([[0],{59:function(e,t,n){e.exports=n(68)},68:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(14),i=n.n(r),c=n(15),l=n(13),s=n(8),u=n(24),d=n(25),h=function(){function e(t,n){Object(u.a)(this,e),this.x=void 0,this.y=void 0,this.x=t,this.y=n}return Object(d.a)(e,[{key:"add",value:function(t){return new e(this.x+t.x,this.y+t.y)}},{key:"scalar_mul",value:function(t){return new e(this.x*t,this.y*t)}},{key:"equals",value:function(e){return this.x===e.x&&this.y===e.y}},{key:"upper",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.add(e.UP.scalar_mul(t))}},{key:"downer",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.add(e.DOWN.scalar_mul(t))}},{key:"right",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.add(e.RIGHT.scalar_mul(t))}},{key:"left",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.add(e.LEFT.scalar_mul(t))}},{key:"toString",value:function(){return"{x: ".concat(this.x,", y: ").concat(this.y,"}")}},{key:"toDirectionString",value:function(){return 1===this.x?"RIGHT":-1===this.x?"LEFT":1===this.y?"DOWN":-1===this.y?"UP":""}}]),e}();h.UP=new h(0,-1),h.DOWN=new h(0,1),h.RIGHT=new h(1,0),h.LEFT=new h(-1,0);var v=h,b=function(){function e(t){var n=this,a=t.blocks,o=t.blanks,r=t.board;if(Object(u.a)(this,e),this.board=void 0,this.blocks=void 0,this.blanks=void 0,this.blocks=a,this.blanks=o,r)this.board=r;else{this.board=[];for(var i=0;i<e.HEIGHT;i++)this.board[i]=[];a.forEach((function(e){n.board[e.ancher.y][e.ancher.x]=e}))}}return Object(d.a)(e,[{key:"clone",value:function(){return new e({blocks:this.blocks.map((function(e){return Object.assign({},e)})),blanks:this.blanks.concat()})}},{key:"isValidCell",value:function(t){return t.x>=0&&t.x<e.WIDTH&&t.y>=0&&t.y<e.HEIGHT}},{key:"isSolved",value:function(){var e=this.getBlock(new h(1,3));return void 0!==e&&"target"===e.type}},{key:"getBlock",value:function(e){if(this.isValidCell(e))return this.board[e.y][e.x]}},{key:"getBlankIndex",value:function(e){return this.blanks.findIndex((function(t){return e.equals(t)}))}},{key:"moveBlock",value:function(e){var t=this.clone();return t._bangMoveBlock(e),t}},{key:"_bangMoveBlock",value:function(e){var t=e.block.ancher,n=this.getBlock(t);if(void 0!==n){switch(n.type){case"dot":var a=this.getBlankIndex(t.add(e.direction));this.blanks[a]=t;break;case"horizontal":if(-1===e.direction.x){var o=this.getBlankIndex(t.left());this.blanks[o]=t.right()}else if(1===e.direction.x){var r=this.getBlankIndex(t.right(2));this.blanks[r]=t}else this.blanks[0]=t,this.blanks[1]=this.blanks[0].right();break;case"vertical":if(-1===e.direction.y){var i=this.getBlankIndex(t.upper());this.blanks[i]=t.downer()}else if(1===e.direction.y){var c=this.getBlankIndex(t.downer(2));this.blanks[c]=t}else(-1===e.direction.x||1===e.direction.x)&&(this.blanks[0]=t,this.blanks[1]=this.blanks[0].downer());break;case"target":-1===e.direction.y?(this.blanks[0]=t.downer(),this.blanks[1]=this.blanks[0].right()):1===e.direction.y?(this.blanks[0]=t,this.blanks[1]=this.blanks[0].right()):-1===e.direction.x?(this.blanks[0]=t.right(),this.blanks[1]=this.blanks[0].downer()):1===e.direction.x&&(this.blanks[0]=t,this.blanks[1]=this.blanks[0].downer())}var l=t.add(e.direction);this.board[t.y][t.x]=void 0,this.board[l.y][l.x]=n,n.ancher=l}}},{key:"getFlipped",value:function(){return new e({blocks:this.blocks.map((function(e){if("dot"===e.type||"vertical"===e.type)return{type:e.type,ancher:new h(3-e.ancher.x,e.ancher.y)};switch(e.ancher.x){case 0:return{type:e.type,ancher:new h(2,e.ancher.y)};case 1:return Object.assign({},e);case 2:return{type:e.type,ancher:new h(0,e.ancher.y)};default:throw new Error("unexpedted block x coordinate")}})),blanks:this.blanks.map((function(e){return new h(3-e.x,e.y)}))})}},{key:"calculateBlankCells",value:function(){var t=new Set(Object(l.a)(Array(e.WIDTH).keys()).map((function(t){return Object(l.a)(Array(e.HEIGHT).keys()).map((function(e){return"".concat(t,",").concat(e)}))})).reduce((function(e,t){return[].concat(Object(l.a)(e),Object(l.a)(t))}))),n=function(e){t.delete("".concat(e.x,",").concat(e.y))};return this.blocks.forEach((function(e){var t=e.ancher;switch(e.type){case"dot":n(t);break;case"horizontal":n(t),n(t.right());break;case"vertical":n(t),n(t.downer());break;case"target":n(t),n(t.right()),n(t.downer()),n(t.right().downer())}})),Array.from(t.values()).map((function(e){var t=e.split(",");return new h(parseInt(t[0]),parseInt(t[1]))}))}},{key:"forEachBlock",value:function(e){this.blocks.forEach(e)}}]),e}();b.WIDTH=4,b.HEIGHT=5;var k=b,p=n(69),f=n(91),y=n(19),g=n(9),m={dot:"#35d0ba",vertical:"#ffcd3c",horizontal:"#ff9234",target:"#d92027"};function x(){var e=Object(s.a)(["\n          background: #0002 !important;\n        "]);return x=function(){return e},e}function O(){var e=Object(s.a)(["\n    width: ","px;\n    height: ","px;\n\n    ","\n  "]);return O=function(){return e},e}function w(){var e=Object(s.a)(["\n    width: ","px;\n    height: ","px;\n    background: ",";\n  "]);return w=function(){return e},e}var j=function(e){var t=e.type,n="dot"===t||"vertical"===t?12.5:35,a="dot"===t||"horizontal"===t?12.5:35,r=g.a.div(w(),n,a,m[t]);return o.a.createElement(r,null)},E=function(e){var t=e.onClick,n=e.type,r=e.is_active,i=Object(g.a)(p.a)(O(),75,50,r?Object(y.b)(x()):null);return o.a.createElement(i,{variant:"outlined",onClick:Object(a.useCallback)((function(){return t(n)}),[t,n])},o.a.createElement(j,{type:n}))},B=function(e){var t=e.type,n=e.onTypeSelect,a=["dot","horizontal","vertical","target"].map((function(e){return o.a.createElement(E,{type:e,is_active:t===e,onClick:n,key:e})}));return o.a.createElement(f.a,{orientation:"vertical",variant:"text","aria-label":"vertical outlined primary button group"},a)};function I(){var e=Object(s.a)(["\n          animation: "," 1s ease infinite;\n        "]);return I=function(){return e},e}function H(){var e=Object(s.a)(["\n    position: absolute;\n    top: ","px;\n    left: ","px;\n    width: ","px;\n    height: ","px;\n    background: ",";\n    box-shadow: 0 3px 5px #0002, 0 1px 5px #0002;\n    border-radius: 3px;\n    opacity: ",";\n    cursor: none;\n    pointer-events: none;\n    ","\n  "]);return H=function(){return e},e}function T(){var e=Object(s.a)(["\n  0% {\n    transform: translate3d(0, 0, 0);\n  }\n  100% {\n    transform: translate3d(","px, ","px, 0); \n    opacity: 0;\n  }\n"]);return T=function(){return e},e}var z=function(e){var t,n=e.block,a=e.is_translucent,r=e.move_animation,i=n.type,c="dot"===i||"vertical"===i?50:110,l="dot"===i||"horizontal"===i?50:110,s=g.a.div(H(),10+60*n.ancher.y,10+60*n.ancher.x,c,l,m[i],a?.5:1,r?Object(y.b)(I(),(t=r,Object(y.c)(T(),60*t.x,60*t.y))):null);return o.a.createElement(s,null)};function _(){var e=Object(s.a)(["\n    position: relative;\n    width: ","px;\n    height: ","px;\n    border: solid 3px #aaa;\n    &::after {\n      content: '';\n      display: inline-block;\n      position: absolute;\n      top: ","px;\n      left: ","px;\n      width: ","px;\n      height: 3px;\n      background: #fff;\n    }\n  "]);return _=function(){return e},e}var C=function(e){var t=e.board,n=e.translucent_blocks,r=e.ghost_move,i=e.className,c=e.onMouseUp,l=e.onCellMouseMove,s=function(e){return e.type+e.ancher},u=t.blocks.map((function(e){return o.a.createElement(z,{block:e,key:s(e)})})),d=10+60*k.WIDTH,h=10+60*k.HEIGHT,b=g.a.div(_(),d,h,h,60,130),p=Object(a.useCallback)((function(e){if(e.currentTarget.getBoundingClientRect){var t=e.currentTarget.getBoundingClientRect(),n=e.clientX-t.x,a=e.clientY-t.y,o=Math.floor((n-5)/60),r=Math.floor((a-5)/60),i=new v(o<0?0:o>k.WIDTH-1?k.WIDTH-1:o,r<0?0:r>k.HEIGHT-1?k.HEIGHT-1:r);void 0!==l&&l(i)}}),[l]);return o.a.createElement(b,{className:i||"",onMouseUp:c,onMouseMove:p},u,n?n.map((function(e){return o.a.createElement(z,{block:e,is_translucent:!0,key:s(e)})})):null,r?o.a.createElement(z,{block:r.block,move_animation:null===r||void 0===r?void 0:r.direction}):null)},W=n(50);function D(){var e=Object(s.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n"]);return D=function(){return e},e}function M(){var e=Object(s.a)(["\n    margin: 20px auto 0 !important;\n  "]);return M=function(){return e},e}function N(){var e=Object(s.a)(["\n    display: flex;\n    justify-content: center;\n  "]);return N=function(){return e},e}var G=Object(g.a)((function(e){var t=e.className,n=e.onBoardInput,r=Object(a.useState)(new k({blocks:[],blanks:[new v(0,0),new v(0,0)]})),i=Object(c.a)(r,2),s=i[0],u=i[1],d=Object(a.useState)("dot"),h=Object(c.a)(d,2),b=h[0],f=h[1],y=Object(a.useState)(new v(0,0)),m=Object(c.a)(y,2),x=m[0],O=m[1],w=g.a.div(N()),j=Object(g.a)(p.a)(M());return o.a.createElement("div",{className:"board_input ".concat(t)},o.a.createElement(w,null,o.a.createElement(B,{type:b,onTypeSelect:Object(a.useCallback)((function(e){f(e)}),[])}),o.a.createElement(C,{onMouseUp:function(){u(new k({blocks:[].concat(Object(l.a)(s.blocks),[{type:b,ancher:x}]),blanks:s.blanks}))},onCellMouseMove:Object(a.useCallback)(Object(W.a)(100,O),[]),board:s,translucent_blocks:[{type:b,ancher:x}]})),o.a.createElement(j,{disabled:2!==s.calculateBlankCells().length,variant:"contained",onClick:function(){n(new k({blocks:s.blocks,blanks:s.calculateBlankCells()}))}},"solve!"))}))(D()),R=n(51),S=n.n(R),F=n(52),U=n.n(F);function A(){var e=Object(s.a)(["\n    text-align: center;\n  "]);return A=function(){return e},e}function L(){var e=Object(s.a)(["\n    margin: 0 auto;\n  "]);return L=function(){return e},e}var P=function(e){var t=e.board,n=e.moves,r=Object(a.useState)(0),i=Object(c.a)(r,2),l=i[0],s=i[1],u=Object(a.useMemo)((function(){return function(e,t,n){return t.filter((function(e,t){return t<n})).reduce((function(e,t){return e.moveBlock(t)}),e)}(t,n,l)}),[t,n,l]),d=Object(g.a)(C)(L()),h=g.a.div(A());return o.a.createElement("div",{className:"answer"},o.a.createElement(d,{board:u,ghost_move:n[l]}),o.a.createElement(h,null,o.a.createElement(p.a,{disabled:l<=0,onClick:function(){return s(l-1)}},o.a.createElement(S.a,null)),o.a.createElement("span",null,l+1," / ",n.length),o.a.createElement(p.a,{disabled:l>=n.length-1,onClick:function(){return s(l+1)}},o.a.createElement(U.a,null))))},q=n(36),J=n(53),V=function(){function e(){Object(u.a)(this,e),this.randoms=void 0,this.hashes=void 0,this.randoms=Object(l.a)(Array(80).keys()).map((function(e){return parseInt(Math.random()*Math.pow(2,32))})),this.hashes=new Set}return Object(d.a)(e,[{key:"getRandomsIndex",value:function(e){var t={dot:0,horizontal:1,vertical:2,target:3}[e.type];return 4*(e.ancher.y*k.WIDTH+e.ancher.x)+t}},{key:"getHash",value:function(e){var t=this,n=0;return e.forEachBlock((function(e){n^=t.randoms[t.getRandomsIndex(e)]})),n}},{key:"getMovedHash",value:function(e,t){var n=t.block;if(void 0!==n){var a=Object(J.a)({},n,{ancher:n.ancher.add(t.direction)});return e^this.randoms[this.getRandomsIndex(n)]^this.randoms[this.getRandomsIndex(a)]}}},{key:"add",value:function(e){this.hashes.add(e)}},{key:"has",value:function(e){return this.hashes.has(e)}}]),e}(),X=function(e){var t,n,a=[],o=(t=e.blanks[0],n=e.blanks[1],t.upper().equals(n)||t.downer().equals(n)?"vartical":!(!t.right().equals(n)&&!t.left().equals(n))&&"horizontal"),r=e.blanks[0],i=e.blanks[1];if(e.blanks[0].x===e.blanks[1].x?e.blanks[0].y<e.blanks[1].y?(r=e.blanks[0],i=e.blanks[1]):e.blanks[0].y>e.blanks[1].y&&(r=e.blanks[1],i=e.blanks[0]):e.blanks[0].x<e.blanks[1].x?(r=e.blanks[0],i=e.blanks[1]):e.blanks[0].x>e.blanks[1].x&&(r=e.blanks[1],i=e.blanks[0]),o){var c;if("horizontal"===o)void 0!==(c=e.getBlock(r.left(2)))&&"horizontal"===c.type&&a.push({block:c,direction:v.RIGHT}),void 0!==(c=e.getBlock(r.left(1)))&&"dot"===c.type&&a.push({block:c,direction:v.RIGHT}),(void 0!==(c=e.getBlock(r.upper(2)))&&"vertical"===c.type||void 0!==c&&"target"===c.type)&&a.push({block:c,direction:v.DOWN}),(void 0!==(c=e.getBlock(r.upper(1)))&&"dot"===c.type||void 0!==c&&"horizontal"===c.type)&&a.push({block:c,direction:v.DOWN}),(void 0!==(c=e.getBlock(r.downer(1)))&&"dot"===c.type||void 0!==c&&"horizontal"===c.type||void 0!==c&&"vertical"===c.type||void 0!==c&&"target"===c.type)&&a.push({block:c,direction:v.UP}),void 0!==(c=e.getBlock(i.upper(2)))&&"vertical"===c.type&&a.push({block:c,direction:v.DOWN}),void 0!==(c=e.getBlock(i.upper(1)))&&"dot"===c.type&&a.push({block:c,direction:v.DOWN}),(void 0!==(c=e.getBlock(i.downer(1)))&&"dot"===c.type||void 0!==c&&"vertical"===c.type)&&a.push({block:c,direction:v.UP}),(void 0!==(c=e.getBlock(i.right(1)))&&"dot"===c.type||void 0!==c&&"horizontal"===c.type)&&a.push({block:c,direction:v.LEFT});else if("vartical"===o){var l;(void 0!==(l=e.getBlock(r.left(2)))&&"horizontal"===l.type||void 0!==l&&"target"===l.type)&&a.push({block:l,direction:v.RIGHT}),(void 0!==(l=e.getBlock(r.left(1)))&&"dot"===l.type||void 0!==l&&"vertical"===l.type)&&a.push({block:l,direction:v.RIGHT}),void 0!==(l=e.getBlock(i.left(2)))&&"horizontal"===l.type&&a.push({block:l,direction:v.RIGHT}),void 0!==(l=e.getBlock(i.left(1)))&&"dot"===l.type&&a.push({block:l,direction:v.RIGHT}),void 0!==(l=e.getBlock(r.upper(2)))&&"vertical"===l.type&&a.push({block:l,direction:v.DOWN}),void 0!==(l=e.getBlock(r.upper(1)))&&"dot"===l.type&&a.push({block:l,direction:v.DOWN}),(void 0!==(l=e.getBlock(i.downer(1)))&&"dot"===l.type||void 0!==l&&"vertical"===l.type)&&a.push({block:l,direction:v.UP}),(void 0!==(l=e.getBlock(r.right(1)))&&"dot"===l.type||void 0!==l&&"horizontal"===l.type||void 0!==l&&"vertical"===l.type||void 0!==l&&"target"===l.type)&&a.push({block:l,direction:v.LEFT}),(void 0!==(l=e.getBlock(i.right(1)))&&"dot"===l.type||void 0!==l&&"horizontal"===l.type)&&a.push({block:l,direction:v.LEFT})}}else{var s,u=Object(q.a)(e.blanks);try{for(u.s();!(s=u.n()).done;){var d=s.value,h=void 0;void 0!==(h=e.getBlock(d.left(2)))&&"horizontal"===h.type&&a.push({block:h,direction:v.RIGHT}),void 0!==(h=e.getBlock(d.left(1)))&&"dot"===h.type&&a.push({block:h,direction:v.RIGHT}),void 0!==(h=e.getBlock(d.upper(2)))&&"vertical"===h.type&&a.push({block:h,direction:v.DOWN}),void 0!==(h=e.getBlock(d.upper(1)))&&"dot"===h.type&&a.push({block:h,direction:v.DOWN}),(void 0!==(h=e.getBlock(d.downer(1)))&&"dot"===h.type||void 0!==h&&"vertical"===h.type)&&a.push({block:h,direction:v.UP}),(void 0!==(h=e.getBlock(d.right(1)))&&"dot"===h.type||void 0!==h&&"horizontal"===h.type)&&a.push({block:h,direction:v.LEFT})}}catch(b){u.e(b)}finally{u.f()}}return a},Y=function(e){var t=new V,n=[{board:e,hash:t.getHash(e),move_history:[]}];if(e.isSolved())return n[0].move_history;for(t.add(n[0].hash),t.add(t.getHash(e.getFlipped()));0!==n.length;){var a,o=[],r=Object(q.a)(n);try{for(r.s();!(a=r.n()).done;){var i,c=a.value,s=X(c.board),u=Object(q.a)(s);try{for(u.s();!(i=u.n()).done;){var d=i.value,h=t.getMovedHash(c.hash,d);if(void 0===h)throw new Error("unexpected move");if(!t.has(h)){t.add(h);var v=c.board.moveBlock(d);t.add(t.getHash(v.getFlipped()));var b={board:v,hash:h,move_history:[].concat(Object(l.a)(c.move_history),[d])};if(b.board.isSolved())return b.move_history;o.push(b)}}}catch(k){u.e(k)}finally{u.f()}}}catch(k){r.e(k)}finally{r.f()}n=o}return"no answer"},$=n(94),K=n(93),Q=function(){var e=Object(a.useState)(null),t=Object(c.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)(!1),l=Object(c.a)(i,2),s=l[0],u=l[1],d=function(e,t){"clickaway"!==t&&u(!1)};return o.a.createElement("div",{className:"App"},o.a.createElement("h2",null,"Board Input"),o.a.createElement(G,{onBoardInput:function(e){var t=Y(e);"no answer"!==t?r({board:e,moves:t}):u(!0)}}),o.a.createElement(K.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:s,autoHideDuration:6e3,onClose:d},o.a.createElement($.a,{onClose:d,severity:"error"},"NO ANSWER!")),o.a.createElement("h2",null,"Answer"),n?o.a.createElement(P,{board:n.board,moves:n.moves}):null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(Q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[59,1,2]]]);
//# sourceMappingURL=main.11eadbc7.chunk.js.map